# Environment Configuration
NODE_ENV=development
PORT=3003
LOG_LEVEL=info

# Novita.ai API Configuration (Required)
NOVITA_API_KEY=your_novita_api_key_here
NOVITA_API_BASE_URL=https://api.novita.ai/gpu-instance/openapi

# Novita.ai Internal API Configuration (Required for jobs queries)
NOVITA_INTERNAL_API_KEY=your_novita_internal_api_key_here
NOVITA_INTERNAL_API_BASE_URL=https://api-server.novita.ai

# Webhook Configuration (Optional)
WEBHOOK_URL=https://your-webhook-endpoint.com/webhook
WEBHOOK_SECRET=your_webhook_signing_secret

# Default Settings
DEFAULT_REGION=CN-HK-01
INSTANCE_POLL_INTERVAL=30
MAX_RETRY_ATTEMPTS=3
REQUEST_TIMEOUT=30000
WEBHOOK_TIMEOUT=10000
CACHE_TIMEOUT=300
MAX_CONCURRENT_JOBS=10

# Security Settings
ENABLE_CORS=true
ENABLE_HELMET=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Health Check Configuration
HEALTH_CHECK_TIMEOUT_MS=10000
HEALTH_CHECK_RETRY_ATTEMPTS=3
HEALTH_CHECK_RETRY_DELAY_MS=2000
HEALTH_CHECK_MAX_WAIT_TIME_MS=300000

# Migration Configuration
MIGRATION_ENABLED=true
MIGRATION_INTERVAL_MINUTES=15
MIGRATION_JOB_TIMEOUT_MS=600000
MIGRATION_MAX_CONCURRENT=5
MIGRATION_DRY_RUN=false
MIGRATION_RETRY_FAILED=true
MIGRATION_LOG_LEVEL=info
MIGRATION_ELIGIBILITY_INTERVAL_HOURS=4

# Instance Startup Configuration
INSTANCE_STARTUP_MAX_WAIT_TIME=600000
INSTANCE_STARTUP_HEALTH_CHECK_TIMEOUT_MS=10000
INSTANCE_STARTUP_HEALTH_CHECK_RETRY_ATTEMPTS=3
INSTANCE_STARTUP_HEALTH_CHECK_RETRY_DELAY_MS=2000
INSTANCE_STARTUP_HEALTH_CHECK_MAX_WAIT_TIME_MS=300000
INSTANCE_STARTUP_ENABLE_NAME_LOOKUP=true
INSTANCE_STARTUP_OPERATION_TIMEOUT_MS=900000

# Redis Configuration (Required - no fallback available)
# For Docker Compose deployment (local Redis container)
REDIS_URL=redis://:novita_redis_password@redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=novita_redis_password

# For Upstash Redis (cloud-hosted alternative)
# UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_token_here

# Redis Connection Settings
REDIS_CONNECTION_TIMEOUT_MS=10000
REDIS_COMMAND_TIMEOUT_MS=5000
REDIS_RETRY_ATTEMPTS=3
REDIS_RETRY_DELAY_MS=1000
REDIS_KEY_PREFIX=novita_api
REDIS_ENABLE_FALLBACK=true

# Sync Configuration
# Whether to remove obsolete instances from Redis (true) or mark as terminated (false)
SYNC_REMOVE_OBSOLETE_INSTANCES=false

# Number of days to retain obsolete instances before removal (1-365)
SYNC_OBSOLETE_INSTANCE_RETENTION_DAYS=7

# Whether to enable automatic periodic synchronization with Novita.ai
SYNC_ENABLE_AUTOMATIC_SYNC=true

# Interval in minutes for automatic synchronization (5-1440)
SYNC_INTERVAL_MINUTES=30# Axio
m Logging Configuration (Optional)
# Get these from your Axiom dashboard: https://app.axiom.co/
AXIOM_DATASET=your_axiom_dataset_name
AXIOM_TOKEN=your_axiom_api_token
AXIOM_ORG_ID=your_axiom_org_id